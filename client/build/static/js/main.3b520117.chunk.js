(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t,a){e.exports=a(161)},138:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),o=a(22),l=a(19),u=a(194),s=a(8),d=(a(138),function(){return Object(s.d)((function(e){return e.auth.isAuthenticated}))?r.a.createElement(l.a,{to:"/dashboard"}):r.a.createElement("section",{className:"landing"},r.a.createElement("nav",{className:"top"},r.a.createElement("h2",null,"FPRT"),r.a.createElement("div",null,r.a.createElement(u.a,{variant:"outlined"},r.a.createElement(o.b,{to:"/login"},"Login")),r.a.createElement(u.a,{variant:"outlined"},r.a.createElement(o.b,{to:"/register"},"Register")))),r.a.createElement("div",{className:"landing-inner"},r.a.createElement("div",{className:"buttons"})))}),m=a(6),p=a.n(m),f=a(9),b=a(21),O=a(4),E=a(10),v=a(217),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=Object(v.a)();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},j=a(17),g=a.n(j),y=function(e){e?g.a.defaults.headers.common["x-auth-token"]=e:delete g.a.defaults.headers.common["x-auth-token"]},x=function(){return function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&y(localStorage.token),e.prev=1,e.next=4,g.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},R=function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(f.a)(p.a.mark((function e(r){var c,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},i=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,g.a.post("/api/users",i,c);case 5:o=e.sent,r({type:"REGISTER_SUCCESS",payload:o.data}),r(x()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(l=e.t0.response.data.errors)&&l.forEach((function(e){return r(h(e.msg,"error"))})),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r,c,i,o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,g.a.post("/api/auth",c,r);case 5:i=a.sent,n({type:"LOGIN_SUCCESS",payload:i.data}),n(x()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(o=a.t0.response.data.errors)&&o.forEach((function(e){return n(h(e.msg,"error"))})),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()},k=a(199),S=a(221),N=a(200),C=a(214),_=a(61),T=a(198),A=function(){return r.a.createElement("p",{className:"copyright"},"FPRT @ ",(new Date).getFullYear(),".")},D=a(197),I=Object(D.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh",maxWidth:"100vw",padding:"20px",background:"linear-gradient(135deg, skyblue, violet)"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"white",maxWidth:"500px"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),L=function(){var e=I(),t=Object(n.useState)({name:"",email:"",password:"",password2:""}),a=Object(E.a)(t,2),c=a[0],i=a[1],o=Object(s.d)((function(e){return e.auth.isAuthenticated})),d=Object(s.c)(),m=c.name,v=c.email,j=c.password,g=c.password2,y=function(e){return i(Object(O.a)(Object(O.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(j!==g?h("Passwords do not match","error"):R({name:m,email:v,password:j}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(l.a,{to:"/dashboard"}):r.a.createElement(T.a,{component:"main",maxWidth:"xs",className:e.container},r.a.createElement(k.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(_.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,onSubmit:function(e){return x(e)}},r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,label:"Your Name",autoFocus:!0,value:m,onChange:function(e){return y(e)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",value:v,onChange:function(e){return y(e)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",value:j,onChange:function(e){return y(e)}})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(S.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",value:g,onChange:function(e){return y(e)}}))),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(N.a,{container:!0,justify:"flex-end"},r.a.createElement(N.a,{item:!0})))),r.a.createElement(C.a,{mt:5},r.a.createElement(A,null)))},P=function(){var e=I(),t=Object(n.useState)({email:"",password:""}),a=Object(E.a)(t,2),c=a[0],i=a[1],o=Object(s.d)((function(e){return e.auth.isAuthenticated})),d=Object(s.c)(),m=c.email,v=c.password,h=function(e){return i(Object(O.a)(Object(O.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))},j=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(w(m,v));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement(l.a,{to:"/dashboard"}):r.a.createElement(T.a,{component:"main",maxWidth:"xs",className:e.container},r.a.createElement(k.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(_.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,onSubmit:function(e){return j(e)}},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:m,onChange:function(e){return h(e)}}),r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password",value:v,onChange:function(e){return h(e)}}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(N.a,{container:!0,justify:"flex-end"}))),r.a.createElement(C.a,{mt:8},r.a.createElement(A,null)))},B={headers:{"Content-Type":"application/json"}},F=function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.stringify(e),a.next=4,g.a.post("/api/boards",r,B);case 4:c=a.sent,n({type:"ADD_BOARD",payload:c.data}),n(h("Board Created","success")),t.push("/board/".concat(c.data._id)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:"BOARD_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},W=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=JSON.stringify(e),t.next=4,g.a.post("/api/lists",n,B);case 4:r=t.sent,a({type:"ADD_LIST",payload:r.data}),a(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"BOARD_ERROR"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=JSON.stringify(e),t.next=4,g.a.post("/api/cards",n,B);case 4:r=t.sent,a({type:"ADD_CARD",payload:r.data}),a(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"BOARD_ERROR"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},U=function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.patch("/api/cards/edit/".concat(e),t,B);case 3:r=a.sent,n({type:"EDIT_CARD",payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"BOARD_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},q=function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=JSON.stringify(t),a.next=4,g.a.patch("/api/cards/move/".concat(e),r,B);case 4:c=a.sent,n({type:"MOVE_CARD",payload:c.data}),n(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"BOARD_ERROR"});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(f.a)(p.a.mark((function a(n){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.delete("/api/cards/".concat(e,"/").concat(t));case 3:r=a.sent,n({type:"DELETE_CARD",payload:r.data}),n(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"BOARD_ERROR"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},H=a(218),J=a(28),V=a.n(J),z=Object(D.a)((function(e){var t;return{createBoardModal:{width:400},cardModal:Object(b.a)({width:800},e.breakpoints.down("sm"),{maxWidth:400}),cardTitle:{width:"100%"},button:{width:180,marginTop:10},membersTitle:{margin:"20px 0 10px"},labelTitle:{margin:"20px 0 10px"},colorPicker:{minWidth:212},noLabel:{width:100},moveCardTitle:{marginTop:20},moveCard:{display:"flex",flexDirection:"column"},moveCardSelect:{marginTop:10,marginRight:20,width:200},header:{marginTop:10,marginBottom:10},checklistItem:{display:"flex",width:"100%",justifyContent:"space-between",margin:"2px 0 5px"},checklistFormLabel:{width:"100%"},itemButtons:Object(b.a)({display:"flex",margin:"auto"},e.breakpoints.down("sm"),{flexDirection:"column"}),itemButton:{height:40},checklistBottom:{marginTop:5},paper:(t={display:"flex",flexDirection:"column",position:"absolute",left:"50%",transform:"translateX(-50%)"},Object(b.a)(t,e.breakpoints.up("md"),{top:"5%",maxHeight:"90vh"}),Object(b.a)(t,e.breakpoints.down("sm"),{height:"100%"}),Object(b.a)(t,"overflowY","auto"),Object(b.a)(t,"backgroundColor",e.palette.background.paper),Object(b.a)(t,"border","2px solid #000"),Object(b.a)(t,"boxShadow",e.shadows[5]),Object(b.a)(t,"padding",e.spacing(2,4,3)),t),modalTop:{display:"flex"},modalSection:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",height:"auto"},modalBottomRight:{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginTop:20},archiveButton:{marginBottom:5}}})),Y=Object(l.g)((function(e){var t=e.history,a=z(),c=Object(n.useState)(!1),i=Object(E.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(""),m=Object(E.a)(d,2),b=m[0],O=m[1],v=Object(s.c)(),h=function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),v(F({title:b},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=r.a.createElement("div",{className:"".concat(a.paper," ").concat(a.createBoardModal)},r.a.createElement("div",{className:a.modalTop},r.a.createElement("h1",null,"Create new board"),r.a.createElement(u.a,{onClick:function(){return l(!1)}},r.a.createElement(V.a,null))),r.a.createElement("form",{onSubmit:function(e){return h(e)}},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Add board title",autoFocus:!0,value:b,onChange:function(e){return O(e.target.value)}}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Create New Treloo Board")));return r.a.createElement("div",null,r.a.createElement("button",{className:"board-card create-board-card",onClick:function(){return l(!0)}},"Create Trello Board"),r.a.createElement(H.a,{open:o,onClose:function(){return l(!1)}},j))})),K=function(){var e=Object(s.d)((function(e){return e.auth.isAuthenticated})),t=Object(s.c)();return e?r.a.createElement("nav",{className:"navbar"},r.a.createElement(o.b,{to:"/dashboard"},"Home"),r.a.createElement(o.b,{to:"/profile/edit"},"Update Profile"),r.a.createElement(o.b,{to:"/",onClick:function(){return t(function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Logout")):""},X=a(207),Q=(a(159),function(){var e=Object(s.d)((function(e){return e.auth})),t=e.user,a=e.isAuthenticated,c=Object(s.d)((function(e){return e.board.boards})),i=Object(s.d)((function(e){return e.board.dashboardLoading})),u=Object(s.c)();return Object(n.useEffect)((function(){u(function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(),e.next=4,g.a.get("/api/boards");case 4:a=e.sent,t({type:"GET_BOARDS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"BOARD_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[u]),a?r.a.createElement("div",{className:"dashboard-and-navbar"},r.a.createElement(K,null),r.a.createElement("section",{className:"dashboard"},r.a.createElement("h1",null,"Welcome ",t&&t.name),r.a.createElement("h2",null,"Your Boards"),i&&r.a.createElement(X.a,{className:"dashboard-loading"}),r.a.createElement("div",{className:"boards"},c.map((function(e){return r.a.createElement(o.b,{key:e._id,to:"/board/".concat(e._id),className:"board-card"},e.title)})),r.a.createElement(Y,null)))):r.a.createElement(l.a,{to:"/"})}),Z=a(44),$=function(e){var t=e.board,a=Object(n.useState)(!1),c=Object(E.a)(a,2),i=c[0],o=c[1],l=Object(n.useState)(t.title),u=Object(E.a)(l,2),d=u[0],m=u[1];Object(s.c)();Object(n.useEffect)((function(){m(t.title)}),[t.title]);var b=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?r.a.createElement("form",{className:"board-title-form",onSubmit:function(e){return b(e)}},r.a.createElement(S.a,{variant:"outlined",required:!0,value:d,size:"small",onChange:function(e){return m(e.target.value)}})):r.a.createElement("h2",{className:"board-title",onClick:function(){return o(!0)}},t.title)},ee=function(e){var t=e.list,a=Object(n.useState)(!1),c=Object(E.a)(a,2),i=c[0],o=c[1],l=Object(n.useState)(t.title),u=Object(E.a)(l,2),d=u[0],m=u[1];Object(s.c)();Object(n.useEffect)((function(){m(t.title)}),[t.title]);var b=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?r.a.createElement("form",{onSubmit:function(e){return b(e)}},r.a.createElement(S.a,{required:!0,value:d,onChange:function(e){return m(e.target.value)}})):r.a.createElement("h3",{className:"list-title",onClick:function(){return o(!0)}},t.title)},te=function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()},ae=a(211),ne=a(100),re=a.n(ne),ce=a(101),ie=a.n(ce),oe=a(102),le=a.n(oe),ue=a(212),se=a(220),de=a(224),me=a(223),pe=a(208),fe=a(203),be=a(215),Oe=function(e){var t=e.cardId,a=e.setOpen,c=e.thisList,i=z(),o=Object(n.useState)(null),l=Object(E.a)(o,2),d=l[0],m=l[1],b=Object(n.useState)(""),O=Object(E.a)(b,2),v=O[0],h=O[1],j=Object(n.useState)(0),g=Object(E.a)(j,2),y=g[0],x=g[1],R=Object(n.useState)([0]),w=Object(E.a)(R,2),k=w[0],S=w[1],N=Object(s.d)((function(e){return e.board.board.lists})),C=Object(s.d)((function(e){return e.board.board.listObjects.sort((function(e,t){return N.findIndex((function(t){return t===e._id}))-N.findIndex((function(e){return e===t._id}))})).filter((function(e){return!e.archived}))})),_=Object(s.d)((function(e){return e.board.board.cardObjects})),T=Object(s.c)();Object(n.useEffect)((function(){m(c),h(c.title)}),[c,t]),Object(n.useEffect)((function(){if(d){var e=d.cards.map((function(e,t){return{card:_.find((function(t){return t._id===e})),position:t}})).map((function(e){return e.position}));d!==c&&(e=e.concat(d.cards.length)),d.cards.length>0?(S(e),x(c.cards.findIndex((function(e){return e===t})))):(S([0]),x(0))}}),[c,t,d,_]);var A=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(q(t,{fromId:c._id,toId:d._id,toIndex:y})),a(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:i.moveCard},r.a.createElement("h3",{className:i.moveCardTitle},"Move this card"),r.a.createElement("div",null,r.a.createElement(fe.a,{className:i.moveCardSelect},r.a.createElement(me.a,{shrink:!0},"List"),r.a.createElement(be.a,{value:v,required:!0,onChange:function(e){h(e.target.value),m(C.find((function(t){return t.title===e.target.value})))},displayEmpty:!0},C.map((function(e){return r.a.createElement(pe.a,{key:e._id,value:e.title},e.title)})))),r.a.createElement(fe.a,{className:i.moveCardSelect},r.a.createElement(me.a,{shrink:!0},"Position"),r.a.createElement(be.a,{value:y,required:!0,onChange:function(e){return x(e.target.value)},displayEmpty:!0},k.map((function(e,t){return r.a.createElement(pe.a,{key:e,value:e},t+1)}))))),r.a.createElement(u.a,{className:i.button,variant:"contained",color:"primary",onClick:A},"Move Card"))},Ee=a(219),ve=a(210),he=a(209),je=function(e){var t=e.cardId,a=e.setOpen,c=e.list,i=Object(n.useState)(!1),o=Object(E.a)(i,2),l=o[0],d=o[1],m=Object(s.c)(),b=function(){d(!1)},O=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(M(c._id,t)),d(!1),a(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(u.a,{variant:"contained",color:"secondary",onClick:function(){d(!0)}},"Delete Card"),r.a.createElement(Ee.a,{open:l,onClose:b},r.a.createElement(he.a,null,"Delete card?"),r.a.createElement(ve.a,null,r.a.createElement(u.a,{onClick:O,variant:"contained",color:"primary",autoFocus:!0},"Delete"),r.a.createElement(u.a,{onClick:b},r.a.createElement(V.a,null)))))},ge=function(e){var t=e.cardId,a=e.open,c=e.setOpen,i=e.card,o=e.list,l=z(),d=Object(n.useState)(i.title),m=Object(E.a)(d,2),b=m[0],O=m[1],v=Object(n.useState)(i.description),h=Object(E.a)(v,2),j=h[0],g=h[1],y=Object(s.c)();Object(n.useEffect)((function(){O(i.title),g(i.description)}),[i]);var x=function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),y(U(t,{title:b,description:j}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(H.a,{open:a,onClose:function(){return c(!1)}},r.a.createElement("div",{className:"".concat(l.paper," ").concat(l.cardModal)},r.a.createElement("form",{onSubmit:function(e){return x(e)}},r.a.createElement("div",{className:l.modalTop},r.a.createElement(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,multiline:!0,label:"Card title",value:b,onChange:function(e){return O(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&x(e)},className:l.cardTitle}),r.a.createElement(u.a,{onClick:function(){return c(!1)}},r.a.createElement(V.a,null))),r.a.createElement(S.a,{variant:"outlined",margin:"normal",fullWidth:!0,multiline:!0,label:"Card description",value:j,onChange:function(e){return g(e.target.value)}}),r.a.createElement(u.a,{type:"submit",variant:"contained",color:"primary",disabled:b===i.title&&(j===i.description||""===j&&!i.description),className:l.button},"Save All Changes")),r.a.createElement("div",{className:l.modalSection},r.a.createElement("div",null)),r.a.createElement("div",{className:l.modalSection},r.a.createElement(Oe,{cardId:t,setOpen:c,thisList:o}),r.a.createElement("div",{className:l.modalBottomRight},r.a.createElement(je,{cardId:t,setOpen:c,list:o})))))},ye=function(e){var t=e.cardId,a=e.list,c=e.index,i=Object(n.useState)(!1),o=Object(E.a)(i,2),l=o[0],d=o[1],m=Object(n.useState)(!1),b=Object(E.a)(m,2),O=b[0],v=b[1],h=Object(n.useState)(!1),j=Object(E.a)(h,2),y=j[0],x=j[1],R=Object(n.useState)(""),w=Object(E.a)(R,2),k=w[0],N=w[1],C=Object(n.useState)(0),_=Object(E.a)(C,2),T=_[0],A=_[1],D=Object(n.useState)(0),I=Object(E.a)(D,2),L=I[0],P=I[1],B=Object(n.useRef)(null),F=Object(s.d)((function(e){return e.board.board.cardObjects.find((function(e){return e._id===t}))})),W=Object(s.c)();Object(n.useEffect)((function(){var e;W((e=t,function(){var t=Object(f.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/cards/".concat(e));case 3:n=t.sent,a({type:"GET_CARD",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"BOARD_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))}),[t,W]),Object(n.useEffect)((function(){F&&(N(F.title),F.checklist&&P(F.checklist.reduce((function(e,t){return e+(t.complete?1:0)}),0)))}),[F]),Object(n.useEffect)((function(){B&&B.current&&A(B.current.clientHeight)}),[a,F,B]);var G=function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),W(U(t,{title:k})),d(!1),x(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!F||F&&F.archived?"":r.a.createElement(n.Fragment,null,r.a.createElement(ge,{cardId:t,open:O,setOpen:v,card:F,list:a}),l?r.a.createElement("form",{className:"create-card-form",onSubmit:function(e){return G(e)}},r.a.createElement(ae.a,null,r.a.createElement(ue.a,{className:"card-edit-content"},r.a.createElement(S.a,{margin:"normal",fullWidth:!0,multiline:!0,required:!0,label:"Edit this card's title",autoFocus:!0,value:k,onChange:function(e){return N(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&G(e)}}))),r.a.createElement("div",{className:"card-actions"},r.a.createElement(u.a,{type:"submit",variant:"contained",color:"primary"},"Save"),r.a.createElement(u.a,{onClick:function(){d(!1),x(!1),N(F.title)}},r.a.createElement(V.a,null)))):r.a.createElement(Z.b,{draggableId:t,index:c},(function(e){return r.a.createElement(ae.a,Object.assign({className:"card ".concat(y&&!l?"mouse-over":""),onMouseOver:function(){return x(!0)},onMouseLeave:function(){return x(!1)},ref:e.innerRef},e.draggableProps,e.dragHandleProps),y&&!l&&r.a.createElement(u.a,{style:{position:"absolute",bottom:T-40,left:"180px",zIndex:1},onClick:function(){return d(!0)}},r.a.createElement(re.a,{fontSize:"small"})),r.a.createElement(ue.a,{onClick:function(){v(!0),x(!1)},ref:B},F.label&&"none"!==F.label&&r.a.createElement("div",{className:"card-label",style:{backgroundColor:F.label}}),r.a.createElement("p",null,F.title),r.a.createElement("div",{className:"card-bottom"},r.a.createElement("div",{className:"card-bottom-left"},F.description&&r.a.createElement(ie.a,{className:"description-indicator",fontSize:"small"}),F.checklist&&F.checklist.length>0&&r.a.createElement("div",{className:"checklist-indicator ".concat(L===F.checklist.length?"completed-checklist-indicator":"")},r.a.createElement(le.a,{fontSize:"small",className:"checklist-indicator-icon"}),L,"/",F.checklist.length)),r.a.createElement("div",{className:"card-member-avatars"},F.members.map((function(e){return r.a.createElement(se.a,{title:e.name,key:e.user},r.a.createElement(de.a,{className:"avatar"},te(e.name)))}))))))})))},xe=function(e){var t=e.listId,a=e.setAdding,c=Object(n.useState)(""),i=Object(E.a)(c,2),o=i[0],l=i[1],d=Object(s.c)(),m=Object(n.useRef)(null);Object(n.useEffect)((function(){m&&m.current&&m.current.scrollIntoView()}),[o]);var b=function(){var e=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),d(G({title:o,listId:t})),l("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{ref:m,className:"create-card-form",onSubmit:function(e){return b(e)}},r.a.createElement(ae.a,null,r.a.createElement(ue.a,{className:"card-edit-content"},r.a.createElement(S.a,{margin:"normal",fullWidth:!0,multiline:!0,required:!0,label:"Enter a title for this card",autoFocus:!0,value:o,onChange:function(e){return l(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&b(e)}}))),r.a.createElement("div",{className:"card-actions"},r.a.createElement(u.a,{type:"submit",variant:"contained",color:"primary"},"Add a Task"),r.a.createElement(u.a,{onClick:function(){a(!1),l("")}},r.a.createElement(V.a,null))))},Re=function(e){var t=e.listId,a=e.index,c=Object(n.useState)(!1),i=Object(E.a)(c,2),o=i[0],l=i[1],d=Object(s.d)((function(e){return e.board.board.listObjects.find((function(e){return e._id===t}))})),m=Object(s.c)();Object(n.useEffect)((function(){var e;m((e=t,function(){var t=Object(f.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/lists/".concat(e));case 3:n=t.sent,a({type:"GET_LIST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"BOARD_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))}),[m,t]);var b=Object(n.useRef)(null);return Object(n.useEffect)((function(){o&&b.current.scrollIntoView()}),[o]),!d||d&&d.archived?"":r.a.createElement(Z.b,{draggableId:t,index:a},(function(e){return r.a.createElement("div",Object.assign({className:"list-wrapper"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement("div",{className:"list-top"},r.a.createElement(ee,{list:d})),r.a.createElement(Z.c,{droppableId:t,type:"card"},(function(e){return r.a.createElement("div",Object.assign({className:"list ".concat(o?"adding-card":"not-adding-card")},e.droppableProps,{ref:e.innerRef}),r.a.createElement("div",{className:"cards"},d.cards.map((function(e,t){return r.a.createElement(ye,{key:e,cardId:e,list:d,index:t})}))),e.placeholder,o&&r.a.createElement("div",{ref:b},r.a.createElement(xe,{listId:t,setAdding:l})))})),!o&&r.a.createElement("div",{className:"create-card-button"},r.a.createElement(u.a,{variant:"contained",onClick:function(){return l(!0)}},"+ Add a card")))}))},we=function(){var e=Object(n.useState)(!1),t=Object(E.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),o=Object(E.a)(i,2),l=o[0],d=o[1],m=Object(s.c)(),b=Object(n.useRef)(null);Object(n.useEffect)((function(){b&&b.current&&b.current.scrollIntoView()}),[l]);var O=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),m(W({title:l})),d("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement("div",{ref:b,className:"create-list-form"},r.a.createElement("form",{onSubmit:function(e){return O(e)}},r.a.createElement(S.a,{variant:"outlined",fullWidth:!0,margin:"normal",required:!0,label:"Enter list title",autoFocus:!0,value:l,onChange:function(e){return d(e.target.value)}}),r.a.createElement("div",null,r.a.createElement(u.a,{type:"submit",variant:"contained",color:"primary"},"Add List"),r.a.createElement(u.a,{onClick:function(){c(!1),d("")}},r.a.createElement(V.a,null))))):r.a.createElement("div",{className:"create-list-button"},r.a.createElement(u.a,{variant:"contained",onClick:function(){return c(!0)}},"+ Add a list"))},ke=function(e){var t=e.match,a=Object(s.d)((function(e){return e.board.board})),c=Object(s.d)((function(e){return e.auth.isAuthenticated})),i=Object(s.c)();if(Object(n.useEffect)((function(){var e;i((e=t.params.id,function(){var t=Object(f.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/boards/".concat(e));case 3:(n=t.sent)?g.a.defaults.headers.common.boardId=e:delete g.a.defaults.headers.common.boardId,a({type:"GET_BOARD",payload:Object(O.a)(Object(O.a)({},n.data),{},{listObjects:[],cardObjects:[]})}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"BOARD_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[i,t.params.id]),!c)return r.a.createElement(l.a,{to:"/"});return a?r.a.createElement("div",{className:"board-and-navbar"},r.a.createElement(K,null),r.a.createElement("section",{className:"board"},r.a.createElement("div",{className:"board-top"},r.a.createElement("div",{className:"board-top-left"},r.a.createElement($,{board:a}))),r.a.createElement(Z.a,{onDragEnd:function(e){var t=e.source,a=e.destination,n=e.draggableId,r=e.type;a&&"card"===r&&i(q(n,{fromId:t.droppableId,toId:a.droppableId,toIndex:a.index}))}},r.a.createElement(Z.c,{droppableId:"all-lists",direction:"horizontal",type:"list"},(function(e){return r.a.createElement("div",Object.assign({className:"lists",ref:e.innerRef},e.droppableProps),a.lists.map((function(e,t){return r.a.createElement(Re,{key:e,listId:e,index:t})})),e.placeholder,r.a.createElement(we,null))})))),r.a.createElement("h4",null,"NOTE :- ADD ONLY TODO,PROGRESS,COMPLETED TABS ONLY AND IT'S CASE SENSITIVE ,OTHER THAN THESE 3 ARE NOT ACCEPTED")):r.a.createElement(n.Fragment,null,r.a.createElement(K,null),r.a.createElement(C.a,{className:"board-loading"},r.a.createElement(X.a,null)))},Se=a(216),Ne=function(){var e=Object(s.d)((function(e){return e.alert}));return null!==e&&e.length>0&&e.map((function(e){return r.a.createElement(Se.a,{severity:e.alertType,key:e.id},e.msg)}))},Ce=a(206),_e=a(164),Te=a(213),Ae=Object(D.a)((function(e){return{root:{maxWidth:800,margin:"auto"},title:{marginTop:e.spacing(2),marginLeft:e.spacing(1)},flex:{display:"flex",flexWrap:"wrap"},fieldName:{width:100},textField:{width:550},button:{width:100,margin:e.spacing(3)}}})),De=Object(s.b)((function(e){return{user:e.auth.user,authLoading:e.auth.loading,profile:e.profile.profile,profileLoading:e.profile.loading}}),{getProfile:function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/profile/".concat(e));case 3:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"PROFILE_ERROR"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateProfile:function(e,t,a){return function(){var n=Object(f.a)(p.a.mark((function n(r){var c,i,o,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},i=JSON.stringify(e),n.prev=2,n.next=5,g.a.put("/api/profile/".concat(t),i,c);case 5:o=n.sent,r({type:"UPDATE_PROFILE",payload:o.data.profile}),r(h("success",o.data.msg)),a.push("/profile/".concat(t)),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(2),(l=n.t0.response.data.error)&&l.forEach((function(e){return r(h("warning",e))})),r({type:"UPDATE_PROFILE_ERROR"});case 16:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.user,a=e.authLoading,c=e.profile,i=e.profileLoading,o=e.getProfile,l=e.updateProfile,s=e.history,d=Ae(),m={name:"",imgURL:""},p=Object(n.useState)(m),f=Object(E.a)(p,2),v=f[0],h=f[1],j=v.name,g=v.imgURL,y=function(e){return h(Object(O.a)(Object(O.a)({},v),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){if(t&&o(t._id),!i&&c){var e=Object(O.a)({},m);for(var a in c)a in e&&(e[a]=c[a]);Array.isArray(e.skills)&&(e.skills=e.skills.join(",")),h(e)}}),[a,i]),!i&&r.a.createElement("div",{className:d.root},r.a.createElement(_.a,{className:d.title,variant:"h6"},"Edit Profile"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(v,t._id,s)}},r.a.createElement(Ce.a,null,r.a.createElement(_e.a,{className:d.flex},r.a.createElement(Te.a,{primary:"Name",className:d.fieldName}),r.a.createElement(S.a,{className:d.textField,variant:"outlined",placeholder:"name",name:"headline",value:j,onChange:y})),r.a.createElement(_e.a,{className:d.flex},r.a.createElement(Te.a,{primary:"imgURL",className:d.fieldName}),r.a.createElement(S.a,{className:d.textField,variant:"outlined",placeholder:"Paste Valid Image URL",name:"location",value:g,onChange:y}))),r.a.createElement(u.a,{className:d.button,variant:"contained",color:"primary",type:"submit"},"Save")))})),Ie=a(25),Le=a(104),Pe=a(105),Be=a(46),Fe=[],We={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},Ge={boards:[],board:null,dashboardLoading:!0,error:{}},Ue={profile:null,loading:!0},qe=Object(Ie.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(Be.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(O.a)(Object(O.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(O.a)(Object(O.a)(Object(O.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(O.a)(Object(O.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CLEAR_BOARD":return Object(O.a)(Object(O.a)({},e),{},{board:null});case"GET_BOARDS":return Object(O.a)(Object(O.a)({},e),{},{boards:n,dashboardLoading:!1});case"GET_BOARD":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},n),e.board)});case"ADD_BOARD":return Object(O.a)(Object(O.a)({},e),{},{boards:[n].concat(Object(Be.a)(e.boards))});case"BOARD_ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:n});case"GET_LIST":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},e.board),{},{listObjects:[].concat(Object(Be.a)(e.board.listObjects),[n])})});case"ADD_LIST":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},e.board),{},{lists:[].concat(Object(Be.a)(e.board.lists),[n._id])})});case"GET_CARD":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},e.board),{},{cardObjects:[].concat(Object(Be.a)(e.board.cardObjects),[n])})});case"ADD_CARD":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},e.board),{},{listObjects:e.board.listObjects.map((function(e){return e._id===n.listId?Object(O.a)(Object(O.a)({},e),{},{cards:[].concat(Object(Be.a)(e.cards),[n.cardId])}):e}))})});case"EDIT_CARD":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},e.board),{},{cardObjects:e.board.cardObjects.map((function(e){return e._id===n._id?n:e}))})});case"MOVE_CARD":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},e.board),{},{listObjects:e.board.listObjects.map((function(e){return e._id===n.from._id?n.from:e._id===n.to._id?n.to:e})),cardObjects:e.board.cardObjects.filter((function(e){return e._id!==n.cardId||n.to._id===n.from._id}))})});case"DELETE_CARD":return Object(O.a)(Object(O.a)({},e),{},{board:Object(O.a)(Object(O.a)({},e.board),{},{cardObjects:e.board.cardObjects.filter((function(e){return e._id!==n})),listObjects:e.board.listObjects.map((function(e){return e.cards.includes(n)?Object(O.a)(Object(O.a)({},e),{},{cards:e.cards.filter((function(e){return e!==n}))}):e}))})});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":case"UPDATE_PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:n,loading:!1});case"CLEAR_PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:null,loading:!0});case"UPDATE_PROFILE_ERROR":return Object(O.a)(Object(O.a)({},e),{},{loading:!1});case"PROFILE_ERROR":return Object(O.a)(Object(O.a)({},e),{},{profile:null,loading:!1});default:return e}}}),Me=[Pe.a],He=Object(Ie.createStore)(qe,{},Object(Le.composeWithDevTools)(Ie.applyMiddleware.apply(void 0,Me)));a(160);localStorage.token&&y(localStorage.token);var Je=function(){return Object(n.useEffect)((function(){He.dispatch(x())}),[]),r.a.createElement(s.a,{store:He},r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(Ne,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:d}),r.a.createElement(l.b,{exact:!0,path:"/register",component:L}),r.a.createElement(l.b,{exact:!0,path:"/login",component:P}),r.a.createElement(l.b,{exact:!0,path:"/dashboard",component:Q}),r.a.createElement(l.b,{exact:!0,path:"/board/:id",component:ke}),r.a.createElement(l.b,{exact:!0,path:"/profile/edit",component:De})))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Je,null)),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.3b520117.chunk.js.map